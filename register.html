<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Firebase Auth</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  </head>
  <body>
    <form id="MainForm">
        <input type="email" placeholder="someone@example.com" required id="emailit" class="form-floating mb-3">
        <input type="password" placeholder="Password" required id="passit" class="form-floating mb-3">
        <input type="name" placeholder="Name" required id="nameit" class="form-floating mb-3">
        <input type="submit" value="New Account" class="btn btn-primary">
    </form>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
  </body>
  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-app.js";
    import { getDatabase, set, ref } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-database.js";
    import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-auth.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyCn8wM-YAtRvlJ9MnT6GYx0gTa0FU2IZZY",
      authDomain: "space-database-b2c03.firebaseapp.com",
      projectId: "space-database-b2c03",
      storageBucket: "space-database-b2c03.appspot.com",
      messagingSenderId: "655700595746",
      appId: "1:655700595746:web:89d825d81e3b93d61ea67b"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getDatabase();
    const auth = getAuth(app);

    let email = document.getElementById('emailit');
    let pass = document.getElementById('passit');
    let name = document.getElementById('nameit');

    let RegitsterUser = evt => {
        evt.preventDefault();
        createUserWithEmailAndPassword(auth, emailit.value, passit.value)
        .then((credentials) => {
            console.log(credentials)
        })
        .catch((error)=>{
            alert(error.message);
            console.log(error.code);
            console.log(error.message);
        })
    }

    MainForm.addEventListener('submit', RegitsterUser);
  </script>
</html>